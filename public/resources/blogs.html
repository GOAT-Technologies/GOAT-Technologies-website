<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="description" content="IoT solutions from GOAT Technologies drive productivity, efficiency, and sustainable operations" />
    <meta property="og:title" content="GOAT Technologies: Home" />
    <meta property="og:description" content="IoT solutions from GOAT Technologies drive productivity, efficiency, and sustainable operations" />
    <meta property="twitter:title" content="GOAT Technologies: Home" />
    <meta property="twitter:description" content="IoT solutions from GOAT Technologies drive productivity, efficiency, and sustainable operations" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />

    <title>GOAT Technologies: Blogs</title>
    <link rel="stylesheet" href="./styles/common.css" type="text/css" />
    <link rel="stylesheet" href="./styles/blog-editor.css" type="text/css" />
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
</head>
<body>
    <header class="editor-header">
        <h1>GOAT Technologies Blog</h1>
    </header>

    <section id="blog-editor-section" style="display: none;">
        <div class="editor-header">
            <div class="info">
                <h1>Create a New Blog Post</h1>
            </div>
            <div class="actions">
                <button id="publish-btn" class="btn btn-primary">Publish</button>
                <button id="save-draft-btn" class="btn btn-secondary">Save Draft</button>
            </div>
        </div>
        <div id="blog-editor"></div>
    </section>

    <section id="blog-list-section" class="blogs-container">
        <h2>Latest Blog Posts</h2>
        <div id="blog-list" role="list" class="w-dyn-items"></div>
    </section>

    <section id="new-blog-form-section">
        <main>
            <h2>Create a New Blog</h2>
            <form id="new-blog-form" enctype="multipart/form-data">
                <label>
                    Blog Title
                    <input type="text" name="blog_title" placeholder="Blog Title" required />
                </label>
                <label>
                    Blog Description
                    <textarea name="blog_description" placeholder="Blog Description" required></textarea>
                </label>
                <label>
                    Lead Image
                    <input type="file" name="blog_lead_img" accept="image/*" required />
                </label>
                <div class="actions">
                    <button type="submit" class="btn btn-primary">Proceed to Editor</button>
                </div>
            </form>
        </main>
    </section>

    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
    <script src="./scripts/blog.js"></script>
    <script src="./scripts/get-blogs.js"></script>
    <script src="./scripts/new-blog.js"></script>
    <script>
        const token = localStorage.getItem('token');
        if (token) {
            document.getElementById('blog-editor-section').style.display = 'block';
        }
    </script>
</body>
</html>